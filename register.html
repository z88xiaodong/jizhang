<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>注册-我的账本</title>
    <link type="text/css" rel="stylesheet" href="stylesheets/style.css" />
    <script type="text/javascript" src="javascripts/jquery.js" ></script>
  </head>
  <body id="main">
    <div class="header">
      <ul class="left">
        <!--<li><a href="#" class="logo">我的账本</a></li>-->
        <!--<li><a href="#" class="wangzhi">7ian8bao.com</a></li>-->
      </ul>
      <ul class="right">
        <li><a href="login.html">登陆</a></li>
        <li><a href="register.html" class="current">注册</a></li>
        <li><a href="reset_password.html" class="rp_font">忘记密码?</a></li>
      </ul>
    </div>
    
    <div id="bottom_body">
    <div class="login_form">

      <span class="error_messages error_notice">
        <ul>
          <li>用户名已存在</li>
          <li>两次输入的密码不一致</li>
        </ul> 
      </span>
      <form name="#" method="post">
        <table>
          <tr>
            <td>用户邮箱:</td>
            <td><input type="TEXT" name="email" class="login_input" /></td>
            <td></td>
          </tr>
          <tr>
            <td>用户名:</td>
            <td><input type="TEXT" name="username" class="login_input" /></td>
            <td></td> 
          </tr>
          <tr>
            <td>密码:</td>
            <td><input type="PASSWORD" name="password" class="login_input"/></td>
            <td></td>
          </tr>
          <tr>
            <td>密码确认:</td>
            <td><input type="PASSWORD" name="password_confirm" class="login_input"/></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td style="text-align:right">
              <input type="submit" value="注册" class="submit" />
            </td>
          </tr> 
        </table>
      </form>
    </div>
    </div>

  </body>
</html>


<script type="text/javascript">
  $(document).ready(function(){
    $("input[name='email']").bind("blur", function(){
      email = $(this).val()
      regexp = /\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/
      notice_area = $(this).parent().next()
      notice_area.attr("class", "")
      if(email == ""){
        notice_area.text("邮箱不能为空").addClass("error_notice") 
      }else if(email.match(regexp)==null){
        notice_area.text("邮箱格式错误").addClass("error_notice") 
      }else{
        <!--ajax进入后台判断-->
        notice_area.text("邮箱可用").addClass("success_notice")
      }
    })



    $("input[name='username']").bind("focus", function(){
      $(this).parent().next().text("用户名长度不能多余15个字符").attr("class", "success_notice")
    })

    $("input[name='username']").bind("blur", function(){
      username = $(this).val()
      notice_area = $(this).parent().next()
      notice_area.attr("class", "")
      if(username == ""){
        notice_area.text("用户名不能为空").addClass("error_notice") 
      }else{
        <!--ajax进入后台判断-->
        notice_area.text("用户名可用").addClass("success_notice")
      }
    })



    $("input[name='password']").bind("focus", function(){
      $(this).parent().next().text("密码长度不能多余20个字符").attr("class", "success_notice")
    })

    $("input[name='password']").bind("blur", function(){
      password = $(this).val()
      notice_area = $(this).parent().next()
      notice_area.attr("class", "")
      if(password == ""){
        notice_area.text("密码不能为空").addClass("error_notice") 
      }else if(password.length < 20){
        notice_area.text("密码可用").addClass("success_notice")
        if(password == $("input[name='password_confirm']").val()){
           $("input[name='password_confirm']").parent().next().text("两次输入的密码一致").attr("class", "success_notice")
        }
      }else{
        notice_area.text("密码长度不能多余20个字符").addClass("error_notice")
      }
    })

    $("input[name='password_confirm']").bind("blur", function(){
      password_confirm = $(this).val()
      notice_area = $(this).parent().next()
      if(password_confirm == ""){
        notice_area.text("密码确认不能为空").attr("class", "error_notice") 
      }
      else if(password_confirm != $("input[name='password']").val()){
        notice_area.text("两次输入的密码不一致").attr("class", "error_notice")
      }
      else{
        notice_area.text("两次输入的密码一致").attr("class", "success_notice") 
      }

    })


  })
</script>
